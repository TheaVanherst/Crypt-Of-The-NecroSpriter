<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="CSS_Libraries/styling.css">
        <link rel="stylesheet" href="CSS_Libraries/tableData.css">
        <link rel="stylesheet" href="playerData.css">

        <link rel="icon" type="image/png" href="/UI_Libraries/skull_small.png">
        <title>Crypt of the NecroSpriter</title>
    </head>

    <body>
        <panel class="col1 scrollArea">
            <table>
                <tr><th></th><th></th><th></th></tr>
                <tr>
                    <th></th>
                    <th>
                        <div>
                            <d>Render View</d>
                            <div id="crop">
                                <div id="transform">
                                    <div class="inline" id="floor"></div>
                                    <div class="inline" id="danceFloor"></div>
                                    <img id="shadow" src="UI_Libraries/shadow.png">
                                    <img id="foreground">
                                    <div id="playerModel">
                                        <img id="special">
                                        <img id="shield" class="invisible">

                                        <div id="consumables">
                                            <img id="item">
                                            <img id="equipment">
                                            <img id="spell"></div>

                                        <img id="shovel">
                                        <img id="body">
                                        <img id="charm">
                                        <img id="head">

                                        <img id="hat">
                                        <img id="boots">
                                        <img id="hip">

                                        <img id="weapon">
                                        <img id="torch">
                                        <img id="ring">
                                    </div>
                                </div>
                            </div>

                            <div>
                                <d>Animation settings</d>
                                <div>
                                    <div class="flex">
                                        <e id="danceButton"      onclick="floorData.danceSwitcher(1);  "> Dance Floor </e>
                                        <e id="multiplierButton" onclick="floorData.danceSwitcher(2);  "> Multiplier  </e>
                                        <e id="amplifiedButton"  onclick="currentCharacter.ampToggle();"> AMPLIFIED   </e>
                                        <e id="backgroundButton" onclick="floorData.floorToggle();     "> background  </e>
                                        <e id="foregroundButton" onclick="floorData.foregroundToggle();"> Foreground  </e>
                                    </div>
                                    <div class="buttons">
                                        <e onclick="playTog = false; this.classList.toggle('pressed', false); elapsed--; animationPush();">Prev</e>
                                        <e onclick="playTog ^= true; this.classList.toggle('pressed', playTog);">Play</e>
                                        <e onclick="playTog = false; this.classList.toggle('pressed', false); elapsed++; animationPush();">Next</e>
                                        <e id="aniType" onclick="currentCharacter.frameType()">Render Type</e>
                                        <e id="flipTog" onclick="currentCharacter.flipToggle();">Mirror</e>

                                        <e id="refreshButton" onclick="urlRefresh()" class="rightFloat">
                                            <img id="refresh" src="UI_Libraries/refresh_Arrow.png"></e>
                                        <e id="debugTog" class="pressed" onclick="
                                            this.classList.toggle('pressed');
                                            $('#debugTable').classList.toggle('invisible');" class="rightFloat">
                                            Debug
                                        </e>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </th>
                    <th></th>
                </tr>
                <tr><th></th><th></th><th></th></tr>
            </table>

            <table>
                <tr><th></th><th></th><th></th></tr>
                <tr>
                    <th></th>
                    <th>
                        <div>
                            <div id="bpmCounter">
                                <img class="bpm" src="UI_Libraries/heart.png">
                                <img class="bpm" src="UI_Libraries/heart.png">
                                <img class="bpm" src="UI_Libraries/heart.png">
                                <img class="bpm" src="UI_Libraries/heart.png">
                                <img class="bpm" src="UI_Libraries/heart.png">
                                <img class="bpm" src="UI_Libraries/heart.png">
                            </div>
                            <div class="inline" id="debug">
                                <ln>Beat: <l id="beatDebug"></l> Bar: <l id="barDebug"></l> Frm: <l id="elapsedDebug"></l></ln>
                                <ln>Char: <p id="characterDebug"></p>: <l id="clothingDebug"></l></ln>
                                <ln>Flr: <p id="floorDebug"></p> : <l id="flipDebug"></l></ln>
                            </div>
                        </div>
                    </th>
                    <th></th>
                </tr>
                <tr><th></th><th></th><th></th></tr>
            </table>
        </panel>

        <panel class="col2">
            <table>
                <tr><th></th><th></th><th></th></tr>
                <tr>
                    <th></th>
                    <th>
                        <div>
                            <d>Main Render Settings</d>
                            <d>Animation Speed (BPM)</d>
                            <div>
                                <input type="range" min="100" max="190" step="5" class="slider" id="bpmSlider">
                                <div>
                                    <p>100</p>
                                    <p class="rightFloat">190</p>
                                </div>
                                current BPM: <t id="bpm"></t>
                            </div>
                            <d>Compatible Tracks:</d>
                            <div id="trackContainer"></div>

                            <d>Background</d>
                            <div id="backgrounds"></div>
                        </div>
                    </th>
                    <th></th>
                </tr>
                <tr><th></th><th></th><th></th></tr>
            </table>

            <table>
                <tr><th></th><th></th><th></th></tr>
                <tr>
                    <th></th>
                    <th>
                        <div>
                            <d>Equipables & Consumables</d>
                            <d>Clothing</d>
                            <div id="clothing"></div>

                            <d>Armour / Weapon Slots</d>
                            <div id="equipmentSlots">
                                <div class="flex">
                                    <e id="hatButton">Helmet</e>
                                    <e id="weaponButton">Weapon</e>
                                    <e id="ringButton">Ring</e>
                                    <e id="bootsButton">Boots</e>
                                </div>
                                <div class="flex">
                                    <e id="spellButton">Spell</e>
                                    <e id="itemButton">Item</e>
                                    <e id="equipmentButton">equipment</e>
                                    <e id="charmButton">Charm</e>
                                </div>
                            </div>

                            <d>Tools & Misc</d>
                            <div class="flex" id="consumableSlots">
                                <e id="shovelButton">Shovel</e>
                                <e id="torchButton">Torch</e>
                                <e id="hipButton">Hip</e>
                                <e id="specialButton">Special</e>
                            </div>
                            <d>shield Controller</d>
                            <div class="flex" id="shieldSettings">
                                <e id="shieldButton">Shield</e>
                            </div>
                        </div>
                    </th>
                    <th></th>
                </tr>
                <tr><th></th><th></th><th></th></tr>
            </table>
        </panel>

        <panel class="col3">
            <table>
                <tr><th></th><th></th><th></th></tr>
                <tr>
                    <th></th>
                    <th>
                        <div>
                            <d>URL Directory Data</d>
                            <d>Helmet</d><input type="text" id="hatUrl">
                            <d>Weapon</d><input type="text" id="weaponUrl">
                            <d>Ring</d><input type="text" id="ringUrl">
                            <d>Boots</d><input type="text" id="bootsUrl">
                            <d>Spell</d><input type="text" id="spellUrl">
                            <d>Item</d><input type="text" id="itemUrl">
                            <d>Equipment</d><input type="text" id="equipmentUrl">
                            <d>Charm</d><input type="text" id="charmUrl">
                            <d>Shovel</d><input type="text" id="shovelUrl">
                            <d>Torch</d><input type="text" id="torchUrl">
                            <d>Hip</d><input type="text" id="hipUrl">
                            <d>Special</d><input type="text" id="specialUrl">
                            <d>Shield</d><input type="text" id="shieldUrl">
                        </div>
                    </th>
                    <th></th>
                </tr>
                <tr><th></th><th></th><th></th></tr>
            </table>
        </panel>
        <panel class="col4">
            <table>
                <tr><th></th><th></th><th></th></tr>
                <tr>
                    <th></th>
                    <th>
                        <div>
                            <div id="logo">
                                <img src="UI_Libraries/logo_small.png">
                            </div>
                            <div>
                                <div>
                                    <d>Character URL</d>
                                    <input type="text" id="characterUrl">
                                </div>
                            </div>
                            <div id="characterSelect"></div>
                        </div>
                    </th>
                    <th></th>
                </tr>
                <tr><th></th><th></th><th></th></tr>
            </table>

            <table>
                <tr><th></th><th></th><th></th></tr>
                <tr>
                    <th></th>
                    <th>
                        <div class="scrollArea">
                            <d>Scale [Pixel ratio]</d>
                            <div>
                                <input type="range" min="4" max="12" step="1" class="slider" id="scaleSlider">
                                <div>
                                    <p>1:4</p>
                                    <p class="rightFloat">1:12</p>
                                </div>
                                current scale: <p id="scale">N/a</p>
                            </div>
                        </div>
                    </th>
                    <th></th>
                </tr>
                <tr><th></th><th></th><th></th></tr>
            </table>
            <div>
                <p>Release 20230122 CTNS.Master:1.3.2</p>
            </div>
        </panel>
        <panel class="col5">
            <table class="invisible" id="debugTable">
                <tr><th></th><th></th><th></th></tr>
                <tr>
                    <th></th>
                    <th>
                        <div>
                            <div id="charDebug"></div>
                        </div>
                    </th>
                    <th></th>
                </tr>
                <tr><th></th><th></th><th></th></tr>
            </table>
        </panel>
    </body>

    <script>
        const // ignore this, it's general purpose shortcuts to save time addressing items.
            $doc = document.documentElement,
            $ = document.querySelector.bind(document),
            $all = document.querySelectorAll.bind(document);
    </script>

    <script type="text/javascript" src="Data_Libraries/characterData.js"></script>
    <script type="text/javascript" src="Data_Libraries/itemData.js"></script>

    <script type="text/javascript" src="JS_Libraries/generalFunctions.js"></script>

    <script type="text/javascript" src="JS_Libraries/characterClasses.js"></script>
    <script type="text/javascript" src="JS_Libraries/itemClasses.js"></script>
    <script type="text/javascript" src="JS_Libraries/floorClasses.js"></script>
    <script type="text/javascript" src="JS_Libraries/startUp.js"></script>
    <script type="text/javascript" src="JS_Libraries/animationCalls.js"></script>
</html>